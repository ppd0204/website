var OSMBuildings=function(){function h(a,b){var d=a[0]-b[0],f=a[1]-b[1];return d*d+f*f}function J(a){for(var b=0,d=0,f=0,e=a.length-3;f<e;f+=2)b+=a[f],d+=a[f+1];a=(a.length-2)/2;return[b/a<<0,d/a<<0]}function v(a){var b,d,f,e,h=0,j,g;j=0;for(g=a.length-3;j<g;j+=2)b=a[j],d=a[j+1],f=a[j+2],e=a[j+3],h+=b*e-f*d;if("CW"===(0<h/2?"CW":"CCW"))return a;b=[];for(d=a.length-2;0<=d;d-=2)b.push(a[d],a[d+1]);return b}var X=X||Array,Ca=Ca||Array,g=Math,La=g.exp,Ma=g.log,Na=g.sin,Oa=g.cos,va=g.tan,Pa=g.atan,pa=
g.min,wa=g.max,Da=document,S,ca=function(a){var b,d,f;if(0===a.s)b=d=f=a.l;else{f=0.5>a.l?a.l*(1+a.s):a.l+a.s-a.l*a.s;var e=2*a.l-f;a.h/=360;b=T(e,f,a.h+1/3);d=T(e,f,a.h);f=T(e,f,a.h-1/3)}return new x(255*b<<0,255*d<<0,255*f<<0,a.a)},T=function(a,b,d){0>d&&(d+=1);1<d&&(d-=1);return d<1/6?a+6*(b-a)*d:0.5>d?b:d<2/3?a+6*(b-a)*(2/3-d):a},x=function(a,b,d,f){this.r=a;this.g=b;this.b=d;this.a=4>arguments.length?1:f},g=x.prototype;g.toString=function(){return"rgba("+[this.r<<0,this.g<<0,this.b<<0,this.a.toFixed(2)].join()+
")"};g.setLightness=function(a){var b=x.toHSLA(this);b.l*=a;b.l=Math.min(1,Math.max(0,b.l));return ca(b)};g.setAlpha=function(a){return new x(this.r,this.g,this.b,this.a*a)};x.parse=function(a){var b;a+="";if(~a.indexOf("#")&&(b=a.match(/^#?(\w{2})(\w{2})(\w{2})(\w{2})?$/)))return new x(parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),b[4]?parseInt(b[4],16)/255:1);if(b=a.match(/rgba?\((\d+)\D+(\d+)\D+(\d+)(\D+([\d.]+))?\)/))return new x(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),b[4]?
parseFloat(b[5]):1);if(b=a.match(/hsla?\(([\d.]+)\D+([\d.]+)\D+([\d.]+)(\D+([\d.]+))?\)/))return ca({h:parseInt(b[1],10),s:parseFloat(b[2]),l:parseFloat(b[3]),a:b[4]?parseFloat(b[5]):1})};x.toHSLA=function(a){var b=a.r/255,d=a.g/255,f=a.b/255,e=Math.max(b,d,f),h=Math.min(b,d,f),j,g=(e+h)/2,t;if(e===h)j=h=0;else{t=e-h;h=0.5<g?t/(2-e-h):t/(e+h);switch(e){case b:j=(d-f)/t+(d<f?6:0);break;case d:j=(f-b)/t+2;break;case f:j=(b-d)/t+4}j/=6}return{h:360*j,s:h,l:g,a:a.a}};S=x;var Ea,g=Math,K=g.PI,r=g.sin,
y=g.cos,da=g.tan,ea=g.asin,fa=g.atan2,E=K/180,M=23.4397*E;Ea=function(a,b,d){d=E*-d;b*=E;a=a.valueOf()/864E5-0.5+2440588-2451545;var f=E*(357.5291+0.98560028*a),e=E*(1.9148*r(f)+0.02*r(2*f)+3E-4*r(3*f)),e=f+e+102.9372*E+K,f=ea(r(0)*y(M)+y(0)*r(M)*r(e)),e=fa(r(e)*y(M)-da(0)*r(M),y(e));d=E*(280.16+360.9856235*a)-d-e;return{altitude:ea(r(b)*r(f)+y(b)*y(f)*y(d)),azimuth:fa(r(d),y(d)*r(b)-da(f)*y(b))-K/2}};var Fa,G=function(a){var b=parseFloat(a);return~a.indexOf("m")?b<<0:~a.indexOf("yd")?b*Qa<<0:~a.indexOf("ft")?
b*Ga<<0:~a.indexOf("'")?(a=a.split("'"),a[0]*Ga+a[1]*Ra<<0):b<<0},u=function(a){a=a.toLowerCase();return"#"===a[0]?a:Sa[a]||null},H=function(a){a=a.toLowerCase();return"#"===a[0]?a:Ta[Ua[a]||a]||null},Ha=function(a){return(a=a.tags)&&!a.landuse&&(a.building||a["building:part"])&&(!a.layer||0<=a.layer)},Ia=function(a){if(a){for(var b=[],d,f=0,e=a.length;f<e;f++)d=F[a[f]],b.push(d[0],d[1]);b[b.length-2]!==b[0]&&b[b.length-1]!==b[1]&&b.push(b[0],b[1]);if(!(8>b.length))return b}},ga=function(a){var b=
0,d=0;a.height&&(b=G(a.height));!b&&a["building:height"]&&(b=G(a["building:height"]));!b&&a.levels&&(b=a.levels*N<<0);!b&&a["building:levels"]&&(b=a["building:levels"]*N<<0);a.min_height&&(d=G(a.min_height));!d&&a["building:min_height"]&&(d=G(a["building:min_height"]));!d&&a.min_level&&(d=a.min_level*N<<0);!d&&a["building:min_level"]&&(d=a["building:min_level"]*N<<0);var f,e;a["building:material"]&&(f=H(a["building:material"]));a["building:facade:material"]&&(f=H(a["building:facade:material"]));a["building:cladding"]&&
(f=H(a["building:cladding"]));a["building:color"]&&(f=u(a["building:color"]));a["building:colour"]&&(f=u(a["building:colour"]));a["roof:material"]&&(e=H(a["roof:material"]));a["building:roof:material"]&&(e=H(a["building:roof:material"]));a["roof:color"]&&(e=u(a["roof:color"]));a["roof:colour"]&&(e=u(a["roof:colour"]));a["building:roof:color"]&&(e=u(a["building:roof:color"]));a["building:roof:colour"]&&(e=u(a["building:roof:colour"]));return{height:b,minHeight:d,wallColor:f,roofColor:e}},Ja=function(a,
b,d){a={id:a,footprint:v(d)};b.height&&(a.height=b.height);b.minHeight&&(a.minHeight=b.minHeight);b.wallColor&&(a.wallColor=b.wallColor);b.roofColor&&(a.roofColor=b.roofColor);Y.push(a)},Qa=0.9144,Ga=0.3048,Ra=0.0254,N=3,Sa={black:"#000000",white:"#ffffff",brown:"#8b4513",green:"#00ff7f",grey:"#bebebe",gray:"#bebebe",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",yellow:"#ffff00",red:"#ff0000",blue:"#0000ff"},Ua={asphalt:"tar_paper",bitumen:"tar_paper",block:"stone",bricks:"brick",glas:"glass",glassfront:"glass",
grass:"plants",masonry:"stone",granite:"stone",panels:"panel",paving_stones:"stone",plastered:"plaster",rooftiles:"roof_tiles",roofingfelt:"tar_paper",sandstone:"stone",sheet:"canvas",sheets:"canvas",shingle:"tar_paper",shingles:"tar_paper",slates:"slate",steel:"metal",tar:"tar_paper",tent:"canvas",thatch:"plants",tile:"roof_tiles",tiles:"roof_tiles"},Ta={brick:"#cc7755",bronze:"#ffeecc",canvas:"#fff8f0",concrete:"#999999",copper:"#a0e0d0",glass:"#e8f8f8",gold:"#ffcc00",plants:"#009933",metal:"#aaaaaa",
panel:"#fff8f0",plaster:"#999999",roof_tiles:"#f08060",silver:"#cccccc",slate:"#666666",stone:"#996666",tar_paper:"#333333",wood:"#deb887"},F,Z,Y;Fa=function(a){F={};Z={};Y=[];for(var b,d=0,f=a.length;d<f;d++)switch(b=a[d],b.type){case "node":F[b.id]=[b.lat,b.lon];break;case "way":var e=void 0,h=void 0;Ha(b)?(e=ga(b.tags),(h=Ia(b.nodes))&&Ja(b.id,e,h)):(e=b.tags)&&(!e.highway&&!e.railway&&!e.landuse)&&(Z[b.id]=b);break;case "relation":var j=e=e=void 0,h=void 0;if(Ha(b)&&("multipolygon"===b.tags.type||
"building"===b.tags.type)){a:{for(var e=b.members,h=void 0,j=0,g=e.length;j<g;j++)if(h=e[j],"way"===h.type&&"outer"===h.role){e=h;break a}e=void 0}if(e&&(b=ga(b.tags),e=Z[e.ref]))if(j=ga(e.tags),h=Ia(e.nodes)){g=void 0;for(g in b)j[g]||(j[g]=b[g]);Ja(e.id,j,h)}}}return Y};var ha=Math.PI,Ka=ha/2,Va=ha/4,Wa=180/ha,Xa=256,Ya="latitude",Za="longitude",g=function(){function a(a,b){var c={};a/=E;b/=E;c[Ya]=0>=b?90:1<=b?-90:Wa*(2*Pa(La(ha*(1-2*b)))-Ka);c[Za]=360*(1===a?1:(a%1+1)%1)-180;return c}function b(a,
b){return a.replace(/\{ *([\w_]+) *\}/g,function(a,$a){return b[$a]||a})}function d(a,b){var c=new XMLHttpRequest;c.onreadystatechange=function(){4===c.readyState&&c.status&&!(200>c.status||299<c.status)&&b&&c.responseText&&b(JSON.parse(c.responseText))};c.open("GET",a);c.send(null);return c}function f(){ia.render();qa.render();e()}function e(){z.clearRect(0,0,t,w);if(!(O<G||ja)){var a,b,c,d,f,e,xa,U,l,m=qa.MAX_HEIGHT,p=[ka+A,la+B],P,q,k,s,V,n;C.renderItems.sort(function(a,b){return h(b.center,p)/
b.height-h(a.center,p)/a.height});a=0;for(b=C.renderItems.length;a<b;a++)if(f=C.renderItems[a],!(f.height<=m)){q=!1;e=f.footprint;P=[];c=0;for(d=e.length-1;c<d;c+=2)P[c]=U=e[c]-A,P[c+1]=l=e[c+1]-B,q||(q=0<U&&U<t&&0<l&&l<w);if(q){c=1>f.scale?f.height*f.scale:f.height;e=$/($-c);f.minHeight&&(c=1>f.scale?f.minHeight*f.scale:f.minHeight,xa=$/($-c));U=[];c=0;for(d=P.length-3;c<d;c+=2)l=P[c],k=P[c+1],q=P[c+2],s=P[c+3],V=j(l,k,e),n=j(q,s,e),f.minHeight&&(k=j(l,k,xa),s=j(q,s,xa),l=k.x,k=k.y,q=s.x,s=s.y),
(q-l)*(V.y-k)>(V.x-l)*(s-k)&&(z.fillStyle=l<q&&k<s||l>q&&k>s?f.altColor||ma:f.wallColor||H,g([q,s,l,k,V.x,V.y,n.x,n.y])),U[c]=V.x,U[c+1]=V.y;z.fillStyle=f.roofColor||na;z.strokeStyle=f.altColor||ma;g(U,!0)}}}}function g(a,b){if(a.length){z.beginPath();z.moveTo(a[0],a[1]);for(var c=2,f=a.length;c<f;c+=2)z.lineTo(a[c],a[c+1]);z.closePath();b&&z.stroke();z.fill()}}function j(a,b,c){return{x:(a-ka)*c+ka<<0,y:(b-la)*c+la<<0}}function r(a){O=a;E=Xa<<O;a=O;var b=G,c=N;a=pa(wa(a,b),c);L=1-pa(wa(0+0.3*((a-
b)/(c-b)),0),0.3);H=I.setAlpha(L)+"";ma=u.setAlpha(L)+"";na=aa.setAlpha(L)+""}var t=0,w=0,x=0,y=0,A=0,B=0,O,E,z,I=new S(200,190,180),u=I.setLightness(0.8),aa=I.setLightness(1.2),H=I+"",ma=u+"",na=aa+"",M,L=1,G=15,N=20,T,ka,la,$,ja,K=new Date,ba={},F={add:function(a,b){ba[a]={data:b,time:Date.now()}},get:function(a){return ba[a]&&ba[a].data},purge:function(){K.setMinutes(K.getMinutes()-5);for(var a in ba)ba[a].time<K&&delete ba[a]}},C,ga=function(a){return function(b){Y(b,a)}},Y=function(a,b){if(a){var c;
if("FeatureCollection"===a.type){c=a.features;var f,d,e,h,g=[],l,m,p,j,q,k,s,n;f=0;for(d=c.length;f<d;f++)if(l=c[f],"Feature"===l.type&&(m=l.geometry,l=l.properties,"LineString"===m.type&&(k=p.length-1,p[0][0]===p[k][0]&&p[0][1]===p[k][1]&&(p=m.coordinates)),"Polygon"===m.type&&(p=m.coordinates),"MultiPolygon"===m.type&&(p=m.coordinates[0]),p)){if(l.color||l.wallColor)j=l.color||l.wallColor;l.roofColor&&(q=l.roofColor);m=p[0];n=[];s=l.height;e=k=0;for(h=m.length;e<h;e++)n.push(m[e][1],m[e][0]),k+=
s||m[e][2]||0;e={id:l.id||n[0]+","+n[1],footprint:v(n)};k&&(e.height=k/m.length<<0);l.minHeight&&(e.minHeight=l.minHeight);j&&(e.wallColor=j);q&&(e.roofColor=q);g.push(e)}c=g}else a.osm3s&&(c=Fa(a.elements));b&&F.add(b,c);Z(c,!0)}},Z=function(a,b){var c,d,e,h,g,j,l=[],m,p,n,q,k,s,t,r,x,v=N-O;e=0;for(h=a.length;e<h;e++)if(x=r=t=null,m=a[e],n=3*(m.height||15)>>v)if(q=3*m.minHeight>>v,!(q>T)){p=m.footprint;k=new X(p.length);g=0;for(j=p.length-1;g<j;g+=2)c=p[g+1],d=pa(1,wa(0,0.5-Ma(va(Va+Ka*p[g]/180))/
ha/2)),c=(c/360+0.5)*E<<0,d=d*E<<0,k[g]=c,k[g+1]=d;g=k;j=g.length/2;p=new Ca(j);k=0;c=j-1;var y=d=void 0,w=void 0,u=void 0,z=[],D=[],G=[];for(p[k]=p[c]=1;c;){y=0;for(d=k+1;d<c;d++){var w=g[2*d],H=g[2*d+1],A=g[2*k],B=g[2*k+1],I=g[2*c],K=g[2*c+1],Q=I-A,R=K-B,F=void 0;if(0!==Q||0!==R)F=((w-A)*Q+(H-B)*R)/(Q*Q+R*R),1<F?(A=I,B=K):0<F&&(A+=Q*F,B+=R*F);Q=w-A;R=H-B;w=Q*Q+R*R;w>y&&(u=d,y=w)}2<y&&(p[u]=1,z.push(k),D.push(u),z.push(u),D.push(c));k=z.pop();c=D.pop()}for(d=0;d<j;d++)p[d]&&G.push(g[2*d],g[2*d+1]);
k=G;if(!(8>k.length)){if(m.wallColor&&(s=S.parse(m.wallColor)))t=s.setAlpha(L),r=""+t.setLightness(0.8),t=""+t;if(m.roofColor&&(s=S.parse(m.roofColor)))x=""+s.setAlpha(L);l.push({id:m.id,footprint:k,height:pa(n,T),minHeight:q,wallColor:t,altColor:r,roofColor:x,center:J(k)})}}h=0;for(m=l.length;h<m;h++)e=l[h],ra[e.id]||(e.scale=b?0:1,oa.renderItems.push(l[h]),ra[e.id]=1);M||(M=setInterval(function(){for(var a,b=!1,c=0,d=C.renderItems.length;c<d;c++)a=C.renderItems[c],1>a.scale&&(a.scale+=0.1,1<a.scale&&
(a.scale=1),b=!0);f();b||(clearInterval(M),M=null)},33))},ya,ra={},oa={renderItems:[],load:function(a){ya=a||"http://overpass-api.de/api/interpreter?data=[out:json];(way[%22building%22]({s},{w},{n},{e});node(w);way[%22building:part%22=%22yes%22]({s},{w},{n},{e});node(w);relation[%22building%22]({s},{w},{n},{e});way(r);node(w););out;";oa.update()},update:function(){if(ya&&!(15>O)){var e=a(A,B),f=a(A+t,B+w),c=0.0075*(e.latitude/0.0075<<0)+0.0075,h=0.015*(f.longitude/0.015<<0)+0.015,f=0.0075*(f.latitude/
0.0075<<0),e=0.015*(e.longitude/0.015<<0);F.purge();oa.renderItems=[];ra={};for(var g,j,n;f<=c;f+=0.0075)for(g=e;g<=h;g+=0.015)n=f+","+g,(j=F.get(n))?Z(j):d(b(ya,{n:(1E4*(f+0.0075)<<0)/1E4,e:(1E4*(g+0.015)<<0)/1E4,s:(1E4*f<<0)/1E4,w:(1E4*g<<0)/1E4}),ga(n))}},set:function(a){oa.renderItems=[];ra={};Y(a)}};C=oa;var ia,ta=function(a,b,c){return{x:a+sa.x*c,y:b+sa.y*c}},n,ca=!0,da=new S(0,0,0),ea=null,sa={x:0,y:0},za={setContext:function(a){n=a;za.setDate((new Date).setHours(10))},enable:function(a){ca=
!!a},render:function(){var b,d,c,f;n.clearRect(0,0,t,w);if(ca&&!(O<G||ja))if(b=a(A+x,B+y),b=Ea(ea,b.latitude,b.longitude),!(0>=b.altitude)){d=1/va(b.altitude);c=0.4/d;sa.x=Oa(b.azimuth)*d;sa.y=Na(b.azimuth)*d;da.a=c;f=da+"";var e,g,h,j,l,m,p,r,q,k,s,u,v=[];n.beginPath();b=0;for(d=C.renderItems.length;b<d;b++){g=C.renderItems[b];r=!1;h=g.footprint;p=[];c=0;for(e=h.length-1;c<e;c+=2)p[c]=l=h[c]-A,p[c+1]=m=h[c+1]-B,r||(r=0<l&&l<t&&0<m&&m<w);if(r){h=1>g.scale?g.height*g.scale:g.height;g.minHeight&&(j=
1>g.scale?g.minHeight*g.scale:g.minHeight);l=null;c=0;for(e=p.length-3;c<e;c+=2)m=p[c],q=p[c+1],r=p[c+2],k=p[c+3],s=ta(m,q,h),u=ta(r,k,h),g.minHeight&&(q=ta(m,q,j),k=ta(r,k,j),m=q.x,q=q.y,r=k.x,k=k.y),(r-m)*(s.y-q)>(s.x-m)*(k-q)?(1===l&&n.lineTo(m,q),l=0,c||n.moveTo(m,q),n.lineTo(r,k)):(0===l&&n.lineTo(s.x,s.y),l=1,c||n.moveTo(s.x,s.y),n.lineTo(u.x,u.y));n.closePath();v.push(p)}}n.fillStyle=f;n.fill();n.globalCompositeOperation="destination-out";n.beginPath();b=0;for(d=v.length;b<d;b++){j=v[b];n.moveTo(j[0],
j[1]);c=2;for(e=j.length;c<e;c+=2)n.lineTo(j[c],j[c+1]);n.lineTo(j[0],j[1]);n.closePath()}n.fillStyle="#00ff00";n.fill();n.globalCompositeOperation="source-over"}},setDate:function(a){ea=a;za.render()}};ia=za;var qa,D,fa={MAX_HEIGHT:8,setContext:function(a){D=a},render:function(){D.clearRect(0,0,t,w);if(!(O<G||ja)){var a,b,c,d,e,f,g,h,j;D.beginPath();a=0;for(b=C.renderItems.length;a<b;a++)if(c=C.renderItems[a],!(c.height>fa.MAX_HEIGHT)){j=!1;e=c.footprint;h=[];c=0;for(d=e.length-1;c<d;c+=2)h[c]=f=
e[c]-A,h[c+1]=g=e[c+1]-B,j||(j=0<f&&f<t&&0<g&&g<w);if(j){c=0;for(d=h.length-3;c<d;c+=2)j=h[c],e=h[c+1],c?D.lineTo(j,e):D.moveTo(j,e);D.closePath()}}D.fillStyle=na;D.strokeStyle=ma;D.stroke();D.fill()}}};qa=fa;var Aa,Ba=function(){var a=Da.createElement("CANVAS");a.style.webkitTransform="translate3d(0,0,0)";a.style.imageRendering="optimizeSpeed";a.style.position="absolute";a.style.left=0;a.style.top=0;var b=a.getContext("2d");b.lineCap="round";b.lineJoin="round";b.lineWidth=1;b.mozImageSmoothingEnabled=
!1;b.webkitImageSmoothingEnabled=!1;ua.push(a);W.appendChild(a);return b},W=Da.createElement("DIV");W.style.pointerEvents="none";W.style.position="absolute";W.style.left=0;W.style.top=0;var ua=[];ia.setContext(Ba());qa.setContext(Ba());z=Ba();Aa={appendTo:function(a){a.appendChild(W);return W},setSize:function(a,b){for(var c=0,d=ua.length;c<d;c++)ua[c].width=a,ua[c].height=b}};this.setStyle=function(a){a=a||{};if(a.color||a.wallColor)I=S.parse(a.color||a.wallColor),H=I.setAlpha(L)+"",u=I.setLightness(0.8),
ma=u.setAlpha(L)+"",aa=I.setLightness(1.2),na=aa.setAlpha(L)+"";a.roofColor&&(aa=S.parse(a.roofColor),na=aa.setAlpha(L)+"");void 0!==a.shadows&&ia.enable(a.shadows);f()};this.setCamOffset=function(a,b){ka=x+a;la=w+b};this.setMaxZoom=function(a){N=a};this.setDate=function(a){ia.setDate(a)};this.appendTo=function(a){return Aa.appendTo(a)};this.loadData=function(a){C.load(a)};this.setData=function(a){C.set(a)};this.onMoveEnd=function(){f();C.update()};this.onZoomEnd=function(a){ja=!1;r(a.zoom);C.update();
f()};this.onZoomStart=function(){ja=!0;f()};this.setOrigin=function(a,b){A=a;B=b};this.setSize=function(a,b){t=a;w=b;x=t/2<<0;y=w/2<<0;ka=x;la=w;$=t/(1.5/(window.devicePixelRatio||1))/va(45)<<0;Aa.setSize(t,w);T=$-50};this.setZoom=r;this.render=e};g.VERSION="0.1.8a";g.ATTRIBUTION='&copy; <a href="http://osmbuildings.org">OSM Buildings</a>';return g}();
OpenLayers.Layer.Buildings=OpenLayers.Class(OpenLayers.Layer,{CLASS_NAME:"OpenLayers.Layer.Buildings",name:"OSM Buildings",attribution:OSMBuildings.ATTRIBUTION,isBaseLayer:!1,alwaysInRange:!0,dxSum:0,dySum:0,initialize:function(h){h=h||{};h.projection="EPSG:900913";OpenLayers.Layer.prototype.initialize.call(this,this.name,h)},setOrigin:function(){var h=this.map.getLonLatFromPixel(new OpenLayers.Pixel(0,0)),J=this.map.resolution,v=this.maxExtent,X=Math.round((h.lon-v.left)/J),h=Math.round((v.top-h.lat)/
J);this.osmb.setOrigin(X,h)},setMap:function(h){this.map||OpenLayers.Layer.prototype.setMap.call(this,h);this.osmb||(this.osmb=new OSMBuildings,this.container=this.osmb.appendTo(this.div));this.osmb.setSize(this.map.size.w,this.map.size.h);this.osmb.setZoom(this.map.zoom);this.setOrigin()},removeMap:function(h){this.container.parentNode.removeChild(this.container);OpenLayers.Layer.prototype.removeMap.call(this,h)},onMapResize:function(){OpenLayers.Layer.prototype.onMapResize.call(this);this.osmb.onResize({width:this.map.size.w,
height:this.map.size.h})},moveTo:function(h,J,v){h=OpenLayers.Layer.prototype.moveTo.call(this,h,J,v);if(!v){v=parseInt(this.map.layerContainerDiv.style.left,10);var X=parseInt(this.map.layerContainerDiv.style.top,10);this.div.style.left=-v+"px";this.div.style.top=-X+"px"}this.setOrigin();this.dySum=this.dxSum=0;this.osmb.setCamOffset(this.dxSum,this.dySum);if(J)this.osmb.onZoomEnd({zoom:this.map.zoom});else this.osmb.onMoveEnd();return h},moveByPx:function(h,J){this.dxSum+=h;this.dySum+=J;var v=
OpenLayers.Layer.prototype.moveByPx.call(this,h,J);this.osmb.setCamOffset(this.dxSum,this.dySum);this.osmb.render();return v},setStyle:function(h){this.osmb.setStyle(h);return this},setDate:function(h){this.osmb.setDate(h);return this},load:function(h){this.osmb.loadData(h);return this},geoJSON:function(h){this.osmb.setData(h);return this}});
